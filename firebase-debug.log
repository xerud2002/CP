[debug] [2025-12-24T11:45:28.713Z] ----------------------------------------------------------------------
[debug] [2025-12-24T11:45:28.716Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\cipri\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only firestore
[debug] [2025-12-24T11:45:28.717Z] CLI Version:   15.1.0
[debug] [2025-12-24T11:45:28.717Z] Platform:      win32
[debug] [2025-12-24T11:45:28.717Z] Node Version:  v22.16.0
[debug] [2025-12-24T11:45:28.717Z] Time:          Wed Dec 24 2025 11:45:28 GMT+0000 (Greenwich Mean Time)
[debug] [2025-12-24T11:45:28.717Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-12-24T11:45:30.750Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-24T11:45:30.751Z] > authorizing via signed-in user (ciprian.rotopanescu@gmail.com)
[debug] [2025-12-24T11:45:30.751Z] [iam] checking project curierulperfect for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]
[debug] [2025-12-24T11:45:30.752Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:30.752Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:30.753Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/curierulperfect:testIamPermissions [none]
[debug] [2025-12-24T11:45:30.753Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/curierulperfect:testIamPermissions x-goog-quota-user=projects/curierulperfect
[debug] [2025-12-24T11:45:30.753Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/curierulperfect:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[debug] [2025-12-24T11:45:30.988Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/curierulperfect:testIamPermissions 200
[debug] [2025-12-24T11:45:30.988Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/curierulperfect:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[info] 
[info] === Deploying to 'curierulperfect'...
[info] 
[info] i  deploying firestore 
[info] i  firestore: ensuring required API firestore.googleapis.com is enabled... 
[info] i  firestore: ensuring required API firestore.googleapis.com is enabled... 
[debug] [2025-12-24T11:45:30.992Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:30.992Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:30.992Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default) [none]
[debug] [2025-12-24T11:45:31.087Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default) 200
[debug] [2025-12-24T11:45:31.088Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default) {"name":"projects/curierulperfect/databases/(default)","uid":"7ff09d75-2a03-4645-a0d4-72922334f8d2","createTime":"2025-03-30T19:51:47.032263Z","updateTime":"2025-03-30T19:51:47.032263Z","locationId":"europe-west2","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-12-24T10:45:31.097323Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"g","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"realtimeUpdatesMode":"REALTIME_UPDATES_MODE_ENABLED","etag":"IJeNmpST1pEDMKmEhMWlzowD"}
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-12-24T11:45:31.091Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:31.091Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:31.091Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/curierulperfect:test [none]
[debug] [2025-12-24T11:45:31.091Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/curierulperfect:test [omitted]
[debug] [2025-12-24T11:45:31.834Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/curierulperfect:test 200
[debug] [2025-12-24T11:45:31.834Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/curierulperfect:test {}
[info] +  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-12-24T11:45:31.835Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:31.835Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:31.836Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/curierulperfect/releases pageSize=10&pageToken=
[debug] [2025-12-24T11:45:32.514Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/curierulperfect/releases 200
[debug] [2025-12-24T11:45:32.514Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/curierulperfect/releases {"releases":[{"name":"projects/curierulperfect/releases/cloud.firestore","rulesetName":"projects/curierulperfect/rulesets/1a03d883-d4dc-43d3-841e-a1be97e76cf1","createTime":"2025-03-30T19:51:52.779821Z","updateTime":"2025-12-24T11:45:17.357189Z"},{"name":"projects/curierulperfect/releases/firebase.storage/curierulperfect.firebasestorage.app","rulesetName":"projects/curierulperfect/rulesets/aa2b8edd-d977-4f5f-be37-e0fec279af07","createTime":"2025-12-10T20:14:06.565572Z","updateTime":"2025-12-20T21:31:11.868953Z"}]}
[debug] [2025-12-24T11:45:32.525Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:32.525Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:32.525Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/curierulperfect/rulesets/1a03d883-d4dc-43d3-841e-a1be97e76cf1 [none]
[debug] [2025-12-24T11:45:33.182Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/curierulperfect/rulesets/1a03d883-d4dc-43d3-841e-a1be97e76cf1 200
[debug] [2025-12-24T11:45:33.182Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/curierulperfect/rulesets/1a03d883-d4dc-43d3-841e-a1be97e76cf1 [omitted]
[info] i  firestore: latest version of firestore.rules already up to date, skipping upload... 
[info] i  firestore: deploying indexes... 
[debug] [2025-12-24T11:45:33.185Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:33.185Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:33.185Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default)/collectionGroups/-/indexes [none]
[debug] [2025-12-24T11:45:33.243Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default)/collectionGroups/-/indexes 200
[debug] [2025-12-24T11:45:33.243Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default)/collectionGroups/-/indexes {"indexes":[{"name":"projects/curierulperfect/databases/(default)/collectionGroups/mesaje/indexes/CICAgPjChIAK","queryScope":"COLLECTION","fields":[{"fieldPath":"clientId","order":"ASCENDING"},{"fieldPath":"orderId","order":"ASCENDING"},{"fieldPath":"senderId","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/recenzii/indexes/CICAgLjy8IAK","queryScope":"COLLECTION","fields":[{"fieldPath":"courierId","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/mesaje/indexes/CICAgPig2YMK","queryScope":"COLLECTION","fields":[{"fieldPath":"orderId","order":"ASCENDING"},{"fieldPath":"clientId","order":"ASCENDING"},{"fieldPath":"courierId","order":"ASCENDING"},{"fieldPath":"read","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/comenzi/indexes/CICAgNi47oMK","queryScope":"COLLECTION","fields":[{"fieldPath":"curierId","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/mesaje/indexes/CICAgLjy1YQK","queryScope":"COLLECTION","fields":[{"fieldPath":"clientId","order":"ASCENDING"},{"fieldPath":"orderId","order":"ASCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/mesaje/indexes/CICAgLix9IYK","queryScope":"COLLECTION","fields":[{"fieldPath":"orderId","order":"ASCENDING"},{"fieldPath":"clientId","order":"ASCENDING"},{"fieldPath":"courierId","order":"ASCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/mesaje/indexes/CICAgJjmnIgK","queryScope":"COLLECTION","fields":[{"fieldPath":"orderId","order":"ASCENDING"},{"fieldPath":"clientId","order":"ASCENDING"},{"fieldPath":"courierId","order":"ASCENDING"},{"fieldPath":"read","order":"ASCENDING"},{"fieldPath":"senderId","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/comenzi/indexes/CICAgLjyuogK","queryScope":"COLLECTION","fields":[{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"timestamp","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/mesaje/indexes/CICAgJiHgokK","queryScope":"COLLECTION","fields":[{"fieldPath":"clientId","order":"ASCENDING"},{"fieldPath":"senderRole","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/mesaje/indexes/CICAgNjp84oK","queryScope":"COLLECTION","fields":[{"fieldPath":"orderId","order":"ASCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/comenzi/indexes/CICAgJiH2JAK","queryScope":"COLLECTION","fields":[{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/comenzi/indexes/CICAgJjmiJEK","queryScope":"COLLECTION","fields":[{"fieldPath":"courierId","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/comenzi/indexes/CICAgLiIjZIK","queryScope":"COLLECTION","fields":[{"fieldPath":"uid_client","order":"ASCENDING"},{"fieldPath":"timestamp","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/comenzi/indexes/CICAgPigw5IK","queryScope":"COLLECTION","fields":[{"fieldPath":"uid_client","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/comenzi/indexes/CICAgLjRnZMK","queryScope":"COLLECTION","fields":[{"fieldPath":"uid_client","order":"ASCENDING"},{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"timestamp","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/recenzii/indexes/CICAgNjp5ZMK","queryScope":"COLLECTION","fields":[{"fieldPath":"clientId","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/mesaje/indexes/CICAgLixqpcK","queryScope":"COLLECTION","fields":[{"fieldPath":"courierId","order":"ASCENDING"},{"fieldPath":"senderRole","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/comenzi/indexes/CICAgLjywZkK","queryScope":"COLLECTION","fields":[{"fieldPath":"uid_client","order":"ASCENDING"},{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/curierulperfect/databases/(default)/collectionGroups/comenzi/indexes/CICAgLix4JsK","queryScope":"COLLECTION","fields":[{"fieldPath":"courierId","order":"ASCENDING"},{"fieldPath":"timestamp","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"}]}
[debug] [2025-12-24T11:45:33.243Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:33.243Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:33.243Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* [none]
[debug] [2025-12-24T11:45:33.299Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* 200
[debug] [2025-12-24T11:45:33.299Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* {"fields":[{"name":"projects/curierulperfect/databases/(default)/collectionGroups/__default__/fields/*","indexConfig":{"indexes":[{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"ASCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"DESCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","arrayConfig":"CONTAINS"}],"state":"READY"}]}}]}
[debug] [2025-12-24T11:45:33.299Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:33.299Z] Checked if tokens are valid: true, expires at: 1766580286967
[debug] [2025-12-24T11:45:33.300Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default) [none]
[debug] [2025-12-24T11:45:33.340Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default) 200
[debug] [2025-12-24T11:45:33.340Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/curierulperfect/databases/(default) {"name":"projects/curierulperfect/databases/(default)","uid":"7ff09d75-2a03-4645-a0d4-72922334f8d2","createTime":"2025-03-30T19:51:47.032263Z","updateTime":"2025-03-30T19:51:47.032263Z","locationId":"europe-west2","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-12-24T10:45:33.347492Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"g","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"realtimeUpdatesMode":"REALTIME_UPDATES_MODE_ENABLED","etag":"IM63o5WT1pEDMKmEhMWlzowD"}
[info] i  firestore: The following indexes are defined in your project but are not present in your firestore indexes file:
	(mesaje) -- (clientId,ASCENDING) (orderId,ASCENDING) (senderId,ASCENDING)  -- Density:SPARSE_ALL 
	(comenzi) -- (curierId,ASCENDING) (createdAt,DESCENDING)  -- Density:SPARSE_ALL 
	(mesaje) -- (clientId,ASCENDING) (orderId,ASCENDING) (createdAt,ASCENDING)  -- Density:SPARSE_ALL 
	(mesaje) -- (orderId,ASCENDING) (clientId,ASCENDING) (courierId,ASCENDING) (read,ASCENDING) (senderId,ASCENDING)  -- Density:SPARSE_ALL 
	(comenzi) -- (uid_client,ASCENDING) (createdAt,DESCENDING)  -- Density:SPARSE_ALL  
[debug] [2025-12-24T11:57:11.939Z] ExitPromptError: User force closed the prompt with SIGINT
    at Interface.sigint (C:\Users\cipri\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\create-prompt.js:101:37)
    at Interface.emit (node:events:518:28)
    at [_ttyWrite] [as _ttyWrite] (node:internal/readline/interface:1128:18)
    at ReadStream.onkeypress (node:internal/readline/interface:267:20)
    at ReadStream.emit (node:events:530:35)
    at emitKeys (node:internal/readline/utils:370:14)
    at emitKeys.next (<anonymous>)
    at ReadStream.onData (node:internal/readline/emitKeypressEvents:64:36)
    at ReadStream.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
[error] 
[error] Error: An unexpected error has occurred.
